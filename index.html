<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
        <title>My Scanner App</title>
    </head>
    <body style="margin: 0">
        <button id="start-scanning">Start scanning</button>
        <div id="scanner-container" style="width: 100%; height: 400px; margin-top: 20px;"></div>
        <pre id="result"></pre>
        <script type="module">
            import "./scanbot-web-sdk/bundle/ScanbotSDK.ui2.min.js";

            const sdk = await ScanbotSDK.initialize({
                engine: "scanbot-web-sdk/bundle/bin/barcode-scanner/"
            });
            
            document.getElementById("start-scanning").addEventListener("click", async () => {
                const config = new ScanbotSDK.UI.Config.BarcodeScannerConfiguration(
                    {containerId: "scanner-container",}
                );

                const scanResult = await ScanbotSDK.UI.createBarcodeScanner(config);

                if (scanResult?.items?.length > 0) {
                    document.getElementById("result").innerText =
                        `Barcode type: ${scanResult.items[0].type} \n` +
                        `Barcode content: "${scanResult.items[0].text}" \n`;
                } else {
                    document.getElementById("result").innerText = "Scanning aborted by the user";
                }
            });
        </script>
    </body>
</html>